# RPC

## RPC 调用标准
* 所有的RPC框架，都是按照RPC调用标准来的。
![rpc调用标准.jpg](https://i.loli.net/2021/03/21/EL8pk3RdjfDwbCT.jpg)
* __客户端__ 的应用想发起一个远程调用时，它实际是通过本地调用本地调用方的 Stub。它负责将调用的接口、方法和参数，通过约定的协议规范进行编码，并通过本地的 RPCRuntime 进行传输，将调用网络包发送到服务器。
* __服务器__ 端的 RPCRuntime 收到请求后，交给提供方 Stub 进行解码，然后调用服务端的方法，服务端执行方法，返回结果，提供方 Stub 将返回结果编码后，发送给客户端，客户端的 RPCRuntime 收到结果，发给调用方 Stub 解码得到结果，返回给客户端。
* 对于用户层和服务端，都像是本地调用一样，专注于业务逻辑的处理就可以了。
* 对于 Stub 层，处理双方约定好的语法、语义、封装、解封装。
* 对于 RPCRuntime，主要处理高性能的传输，以及网络的错误和异常。
